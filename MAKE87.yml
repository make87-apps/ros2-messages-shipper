version: 1
interfaces:
  - name: ros
    protocol: zenoh
    default_port:
      name: zenoh
      protocol: TCP
      target_port: 7447
    subscribers:
      - name: any_message
        spec:
          string: ros2.*
        encoding: cdr
  - name: rerun-grpc
    protocol: grpc
    clients:
      - name: rerun-grpc-client
        spec:
          string: rerun-grpc
container_config:
  environment:
    ROS_DOMAIN_ID: 87
  volumes:
    - /etc/localtime:/etc/localtime:ro
build:
  custom:
    dockerfile: build_kit/Dockerfile
dev_build:
  custom:
    dockerfile: build_kit/Dockerfile.dev
    build_additions:
      ssh: ssh_server
